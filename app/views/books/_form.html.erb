<%= form_with(model: book, local: true) do |form| %>
  <% if book.errors.any? %>
    <div class="alert alert-danger">
      <h4>エラーが発生しました:</h4>
      <ul>
        <% book.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mb-3">
    <%= form.label 'タイトル', class: 'form-label' %>
    <%= form.text_field :title, class: 'form-control', required: true, placeholder: "書籍のタイトルを入力" %>
  </div>

  <div class="mb-3">
    <%= form.label '著者', class: 'form-label' %>
    <%= form.text_field :author, class: 'form-control', required: true, placeholder: "著者名を入力" %>
  </div>

  <div class="mb-3">
    <%= form.label '出版社', class: 'form-label' %>
    <%= form.text_field :publisher, class: 'form-control', placeholder: "出版社名を入力" %>
  </div>

  <div class="mb-3">
    <%= form.label '出版日', class: 'form-label' %>
    <%= form.date_field :published_on, class: 'form-control', placeholder: "出版日を選択" %>
  </div>

  <div class="mb-3">
    <%= form.label '概要', class: 'form-label' %>
    <%= form.text_area :description, class: 'form-control', rows: 5, placeholder: "書籍の概要を入力..." %>
  </div>

  <div class="d-flex gap-3">
    <%= form.submit '作成する', class: 'btn btn-primary' %>
    <%= link_to 'キャンセル', book.persisted? ? book_path(book) : books_path, class: 'btn btn-outline-secondary' %>
  </div>
<% end %>

<% if book.persisted? %>
  <div class="mt-5">
    <%= button_to '削除', book_path(book), method: :delete, data: { turbo_confirm: '本当に削除しますか？', turbo_frame: "_top" }, class: 'btn btn-outline-danger' %>
  </div>
<% end %>
